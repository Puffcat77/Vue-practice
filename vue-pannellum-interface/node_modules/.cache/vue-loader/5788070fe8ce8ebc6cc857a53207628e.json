{"remainingRequest":"D:\\Практика\\Vue practice\\vue-pannellum-interface\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Практика\\Vue practice\\vue-pannellum-interface\\src\\components\\ControllerService.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Практика\\Vue practice\\vue-pannellum-interface\\src\\components\\ControllerService.vue","mtime":1609383508640},{"path":"D:\\Практика\\Vue practice\\vue-pannellum-interface\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Практика\\Vue practice\\vue-pannellum-interface\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Практика\\Vue practice\\vue-pannellum-interface\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Практика\\Vue practice\\vue-pannellum-interface\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgJ3Bhbm5lbGx1bSc7DQppbXBvcnQgJ3Bhbm5lbGx1bS9idWlsZC9wYW5uZWxsdW0uY3NzJzsNCg0KbGV0IHZpZXdlckNvbmZpZyA9IHsNCiAgICAnZGVmYXVsdCc6IHsNCiAgICAgICAgJ3R5cGUnOiAnZXF1aXJlY3Rhbmd1bGFyJywNCiAgICAgICAgJ2hvdFNwb3RzJzogW10NCiAgICB9LA0KICAgICdzY2VuZXMnOiBbXQ0KfTsNCg0KbGV0IHBhbm9WaWV3ZXJDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCnBhbm9WaWV3ZXJDb250YWluZXIuaWQgPSAndmlld2VyJzsNCmxldCBwYW5vVmlld2VyID0gd2luZG93LnBhbm5lbGx1bS52aWV3ZXIocGFub1ZpZXdlckNvbnRhaW5lciwgdmlld2VyQ29uZmlnKTsNCmNvbnNvbGUubG9nKHBhbm9WaWV3ZXJDb250YWluZXIpOw0KY29uc29sZS5sb2cocGFub1ZpZXdlcikNCg0KZXhwb3J0IGRlZmF1bHQgew0KICAgIGRhdGEoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICB2aWV3ZXI6IHt9LA0KICAgICAgICAgICAgdmlld2VyQ29udGFpbmVyOiB7fSwNCiAgICAgICAgICAgIGhvbWVTY2VuZTogJycNCiAgICAgICAgfQ0KICAgIH0sDQogICAgY3JlYXRlZCgpIHsNCiAgICAgICAgdGhpcy52aWV3ZXIgPSBwYW5vVmlld2VyOw0KICAgICAgICB0aGlzLnZpZXdlckNvbnRhaW5lciA9IHBhbm9WaWV3ZXJDb250YWluZXI7DQogICAgICAgIGNvbnNvbGUubG9nKHRoaXMudmlld2VyKTsNCiAgICAgICAgY29uc29sZS5sb2codGhpcy52aWV3ZXJDb250YWluZXIpOw0KICAgIH0sDQogICAgY29tcHV0ZWQ6IHsNCiAgICAgICAgc2NlbmVzKCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlld2VyLmdldENvbmZpZygpLnNjZW5lczsNCiAgICAgICAgfSwNCiAgICAgICAgaG90U3BvdHMoKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy52aWV3ZXIuZ2V0Q29uZmlnKCkuaG90U3BvdHM7DQogICAgICAgIH0NCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgZ2V0RGF0YSgpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMudmlld2VyKTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMudmlld2VyQ29udGFpbmVyKQ0KICAgICAgICB9LA0KICAgICAgICBvbkxvYWRFdmVudCgpIHsNCiAgICAgICAgICAgIHRoaXMubG9hZFNwb3RzVG9TY2VuZSgpOw0KICAgICAgICAgICAgdGhpcy5hcHBseVRyYW5zaXRpb25DbGlja3MoKTsNCiAgICAgICAgfSwNCiAgICAgICAgY3JlYXRlSG9tZUJ1dHR0b24oKSB7DQogICAgICAgICAgICBsZXQgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsNCiAgICAgICAgICAgIGJ1dHRvbi50eXBlPSdidXR0b24nOw0KICAgICAgICAgICAgYnV0dG9uLmlkPSdob21lQnV0dG9uJw0KICAgICAgICAgICAgYnV0dG9uLnZhbHVlID0gJ0hvbWUnOw0KICAgICAgICAgICAgYnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgICAgICAgICBidXR0b24ub25jbGljayA9ICgpID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlci5sb2FkU2NlbmUodGhpcy5ob21lU2NlbmUpOw0KICAgICAgICAgICAgICAgIGJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgYnV0dG9uLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJzsNCiAgICAgICAgICAgIGJ1dHRvbi5zdHlsZS50b3AgPSAnNHB4JzsNCiAgICAgICAgICAgIGJ1dHRvbi5zdHlsZS5yaWdodCA9ICc0cHgnOw0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncG5sbS11aScpWzBdLmFwcGVuZENoaWxkKGJ1dHRvbik7DQogICAgICAgIH0sICAgIA0KICAgICAgICBnZXRDZW50ZXJQb3NpdGlvbigpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgcGl0Y2g6IHRoaXMudmlld2VyLmdldFBpdGNoKCksDQogICAgICAgICAgICAgICAgeWF3OiB0aGlzLnZpZXdlci5nZXRQaXRjaCgpDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGFkZFNjZW5lKHBhbm9yYW1hUGF0aCkgew0KICAgICAgICAgICAgbGV0IHNjZW5lID0gew0KICAgICAgICAgICAgICAgICdwYW5vcmFtYSc6IHBhbm9yYW1hUGF0aA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy52aWV3ZXIuYWRkU2NlbmUocGFub3JhbWFQYXRoLCBzY2VuZSk7DQogICAgICAgIH0sDQogICAgICAgIGxvYWRTY2VuZShwYW5vcmFtYVBhdGgpIHsNCiAgICAgICAgICAgIGlmICghKHBhbm9yYW1hUGF0aCBpbiAodGhpcy52aWV3ZXIuZ2V0Q29uZmlnKCkuc2NlbmVzKSkpDQogICAgICAgICAgICAgICAgdGhpcy5hZGRTY2VuZShwYW5vcmFtYVBhdGgpOw0KICAgICAgICAgICAgdGhpcy52aWV3ZXIubG9hZFNjZW5lKHBhbm9yYW1hUGF0aCk7DQogICAgICAgICAgICB0aGlzLmN1cnJlbnRTY2VuZVBhdGggPSBwYW5vcmFtYVBhdGg7DQogICAgICAgIH0sDQogICAgICAgIGdldEhvdFNwb3RJbmZvKGluZGV4KSB7DQogICAgICAgICAgICBsZXQgaG90U3BvdHMgPSB0aGlzLmhvdFNwb3RzOw0KICAgICAgICAgICAgdGhpcy5jdXJyZW50U3BvdCA9IGhvdFNwb3RzW2luZGV4XTsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRTcG90Ow0KICAgICAgICB9LA0KICAgICAgICBkaXNwbGF5Q3Jvc3MoaXNFZGl0aW5nKSB7DQogICAgICAgICAgICBsZXQgaG90U3BvdERlYnVnSWNvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3BubG0tc3ByaXRlIHBubG0taG90LXNwb3QtZGVidWctaW5kaWNhdG9yJylbMF07DQogICAgICAgICAgICBob3RTcG90RGVidWdJY29uLnN0eWxlLmRpc3BsYXkgPSBpc0VkaXRpbmc/ICdibG9jayc6ICdub25lJw0KICAgICAgICB9LA0KICAgICAgICBhZGRIb3RTcG90KHNwb3RUeXBlLCBwaXRjaCwgeWF3LCB0ZXh0LCBzcG90SWQgPSAtMSwgdHJhbnNpdGlvblNjZW5lKSB7DQogICAgICAgICAgICBsZXQgaWQgPSBzcG90SWQgIT0gLTE/IHNwb3RJZDogdGhpcy5ob3RTcG90cy5sZW5ndGg7DQoNCiAgICAgICAgICAgIHNwb3RUeXBlID09ICdpbmZvJyA/IA0KICAgICAgICAgICAgICAgIHRoaXMuYWRkSW5mb1Nwb3QocGl0Y2gsIHlhdywgdGV4dCwgaWQpOiANCiAgICAgICAgICAgICAgICB0aGlzLmFkZFRyYW5zaXRTcG90KHBpdGNoLCB5YXcsIHRleHQsIGlkLCB0cmFuc2l0aW9uU2NlbmUpOw0KICAgICAgICAgICAgdGhpcy5hcHBseVRyYW5zaXRpb25DbGlja3MoKTsNCiAgICAgICAgfSwNCiAgICAgICAgYWRkSW5mb1Nwb3QocGl0Y2gsIHlhdywgdGV4dCwgaWQpIHsNCiAgICAgICAgICAgIGxldCBjb250cm9sbGVyU2VydmljZSA9IHRoaXM7DQogICAgICAgICAgICB0aGlzLnZpZXdlci5hZGRIb3RTcG90KHsNCiAgICAgICAgICAgICAgICAncGl0Y2gnOiBwaXRjaCwNCiAgICAgICAgICAgICAgICAneWF3JzogeWF3LA0KICAgICAgICAgICAgICAgICd0eXBlJzogJ2luZm8nLA0KICAgICAgICAgICAgICAgICd0ZXh0JzogdGV4dCwNCiAgICAgICAgICAgICAgICAnaWQnOiBpZCwNCiAgICAgICAgICAgICAgICAnY2xpY2tIYW5kbGVyRnVuYyc6ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlclNlcnZpY2UuaW5mb1Nwb3RDbGljayh0aGlzKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sIHRoaXMuY3VycmVudFNjZW5lUGF0aCk7DQogICAgICAgIH0sDQogICAgICAgIGluZm9TcG90Q2xpY2soc3BvdCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuZWRpdGluZ01vZGUpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmdldEhvdFNwb3RJbmZvKHNwb3QuaWQpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBhZGRUcmFuc2l0U3BvdChwaXRjaCwgeWF3LCB0ZXh0LCBpZCwgdHJhbnNpdGlvblNjZW5lKSB7DQogICAgICAgICAgICB0aGlzLnZpZXdlci5hZGRIb3RTcG90KHsNCiAgICAgICAgICAgICAgICAncGl0Y2gnOiBwaXRjaCwNCiAgICAgICAgICAgICAgICAneWF3JzogeWF3LA0KICAgICAgICAgICAgICAgICd0eXBlJzogJ3NjZW5lJywNCiAgICAgICAgICAgICAgICAndGV4dCc6IHRleHQsDQogICAgICAgICAgICAgICAgJ2lkJzogaWQsDQogICAgICAgICAgICAgICAgJ3NjZW5lSWQnOiB0cmFuc2l0aW9uU2NlbmUNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9LA0KICAgICAgICB0cmFuc2l0U3BvdENsaWNrKHNwb3QpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmVkaXRpbmdNb2RlKSB7DQogICAgICAgICAgICAgICAgdGhpcy5nZXRIb3RTcG90SW5mbyhzcG90LmlkKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFNjZW5lUGF0aCA9IHNwb3Quc2NlbmVJZDsNCiAgICAgICAgICAgICAgICBsZXQgaG9tZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdob21lQnV0dG9uJyk7DQogICAgICAgICAgICAgICAgaG9tZUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gdGhpcy5jdXJyZW50U2NlbmVQYXRoID09IHRoaXMuaG9tZVNjZW5lID8gJ25vbmUnIDogJ2Jsb2NrJzsNCiAgICAgICAgICAgICAgICB0aGlzLmxvYWRTY2VuZShzcG90LnNjZW5lSWQpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBhcHBseVRyYW5zaXRpb25DbGlja3MoKSB7DQogICAgICAgICAgICB0aGlzLnZpZXdlci5nZXRDb25maWcoKS5ob3RTcG90cy5mb3JFYWNoKHNwb3QgPT4gew0KICAgICAgICAgICAgICAgIGlmIChzcG90LnR5cGUgPT0gJ3NjZW5lJykgew0KICAgICAgICAgICAgICAgICAgICBzcG90LmRpdi5vbmNsaWNrID0gKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2l0U3BvdENsaWNrKHNwb3QpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICAgIG1vdmVIb3RTcG90KHBpdGNoLCB5YXcsIHRleHQpIHsNCiAgICAgICAgICAgIGxldCBzcG90ID0gdGhpcy5jdXJyZW50U3BvdDsNCiAgICAgICAgICAgIHRoaXMucmVtb3ZlSG90U3BvdCgpOw0KICAgICAgICAgICAgdGhpcy5hZGRIb3RTcG90KHNwb3QudHlwZSwgcGl0Y2gsIHlhdywgdGV4dCwgc3BvdC5pZCwgc3BvdC5zY2VuZUlEKTsNCiAgICAgICAgICAgIHRoaXMuY3VycmVudFNwb3QgPSB1bmRlZmluZWQ7DQogICAgICAgICAgICB0aGlzLmFwcGx5VHJhbnNpdGlvbkNsaWNrcygpOw0KICAgICAgICB9LA0KICAgICAgICByZW1vdmVIb3RTcG90KCkgew0KICAgICAgICAgICAgbGV0IHNwb3RzID0gdGhpcy5ob3RTcG90czsNCiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gc3BvdHMuaW5kZXhPZih0aGlzLmN1cnJlbnRTcG90KTsNCiAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7DQogICAgICAgICAgICAgICAgdGhpcy52aWV3ZXIucmVtb3ZlSG90U3BvdCh0aGlzLmN1cnJlbnRTcG90LmlkKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuYXBwbHlUcmFuc2l0aW9uQ2xpY2tzKCk7DQogICAgICAgIH0sDQogICAgICAgIHNhdmVTcG90c0Zyb21TY2VuZShzY2VuZSA9IHRoaXMuY3VycmVudFNjZW5lUGF0aCkgew0KICAgICAgICAgICAgbGV0IGRhdGEgPSBKU09OLnN0cmluZ2lmeSh0aGlzLnNjZW5lc1tzY2VuZV1bJ2hvdFNwb3RzJ10pOw0KICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oc2NlbmUsIGRhdGEpOw0KICAgICAgICB9LA0KICAgICAgICBsb2FkU3BvdHNUb1NjZW5lKHNjZW5lID0gdGhpcy5jdXJyZW50U2NlbmVQYXRoKSB7DQogICAgICAgICAgICBsZXQgZGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHNjZW5lKTsNCiAgICAgICAgICAgIGlmIChkYXRhICE9IHVuZGVmaW5lZCl7DQogICAgICAgICAgICAgICAgbGV0IHNwb3RzID0gSlNPTi5wYXJzZShkYXRhKTsNCiAgICAgICAgICAgICAgICBzcG90cy5mb3JFYWNoKHNwb3QgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy52aWV3ZXIuZ2V0Q29uZmlnKCkuaG90U3BvdHNbc3BvdC5pZF0gPT0gdW5kZWZpbmVkKQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEhvdFNwb3Qoc3BvdC50eXBlLCBzcG90LnBpdGNoLCBzcG90Lnlhdywgc3BvdC50ZXh0LCBzcG90LmlkLCBzcG90LnNjZW5lSWQpOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBzZXRWaWV3ZXIodmlld2VyKSB7DQogICAgICAgICAgICB0aGlzLnZpZXdlciA9IHZpZXdlcjsNCiAgICAgICAgICAgIHRoaXMudmlld2VyLm9uKCdsb2FkJywgKCkgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMubWV0aG9kcy5vbkxvYWRFdmVudCgpDQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0Vmlld2VyKCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlld2VyOw0KICAgICAgICB9LA0KICAgICAgICBnZXRWaWV3ZXJDb250YWluZXIoKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnZpZXdlckNvbnRhaW5lcikNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMpOw0KICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlld2VyQ29udGFpbmVyOw0KICAgICAgICB9DQogICAgfQ0KfQ0K"},{"version":3,"sources":["ControllerService.vue"],"names":[],"mappings":";AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ControllerService.vue","sourceRoot":"src/components","sourcesContent":["<script>\r\nimport 'pannellum';\r\nimport 'pannellum/build/pannellum.css';\r\n\r\nlet viewerConfig = {\r\n    'default': {\r\n        'type': 'equirectangular',\r\n        'hotSpots': []\r\n    },\r\n    'scenes': []\r\n};\r\n\r\nlet panoViewerContainer = document.createElement('div');\r\npanoViewerContainer.id = 'viewer';\r\nlet panoViewer = window.pannellum.viewer(panoViewerContainer, viewerConfig);\r\nconsole.log(panoViewerContainer);\r\nconsole.log(panoViewer)\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            viewer: {},\r\n            viewerContainer: {},\r\n            homeScene: ''\r\n        }\r\n    },\r\n    created() {\r\n        this.viewer = panoViewer;\r\n        this.viewerContainer = panoViewerContainer;\r\n        console.log(this.viewer);\r\n        console.log(this.viewerContainer);\r\n    },\r\n    computed: {\r\n        scenes() {\r\n            return this.viewer.getConfig().scenes;\r\n        },\r\n        hotSpots() {\r\n            return this.viewer.getConfig().hotSpots;\r\n        }\r\n    },\r\n    methods: {\r\n        getData() {\r\n            console.log(this.viewer);\r\n            console.log(this.viewerContainer)\r\n        },\r\n        onLoadEvent() {\r\n            this.loadSpotsToScene();\r\n            this.applyTransitionClicks();\r\n        },\r\n        createHomeButtton() {\r\n            let button = document.createElement('input');\r\n            button.type='button';\r\n            button.id='homeButton'\r\n            button.value = 'Home';\r\n            button.style.display = 'none';\r\n            button.onclick = () => {\r\n                this.viewer.loadScene(this.homeScene);\r\n                button.style.display = 'none';\r\n            }\r\n            button.style.position = 'absolute';\r\n            button.style.top = '4px';\r\n            button.style.right = '4px';\r\n            document.getElementsByClassName('pnlm-ui')[0].appendChild(button);\r\n        },    \r\n        getCenterPosition() {\r\n            return {\r\n                pitch: this.viewer.getPitch(),\r\n                yaw: this.viewer.getPitch()\r\n            }\r\n        },\r\n        addScene(panoramaPath) {\r\n            let scene = {\r\n                'panorama': panoramaPath\r\n            }\r\n            this.viewer.addScene(panoramaPath, scene);\r\n        },\r\n        loadScene(panoramaPath) {\r\n            if (!(panoramaPath in (this.viewer.getConfig().scenes)))\r\n                this.addScene(panoramaPath);\r\n            this.viewer.loadScene(panoramaPath);\r\n            this.currentScenePath = panoramaPath;\r\n        },\r\n        getHotSpotInfo(index) {\r\n            let hotSpots = this.hotSpots;\r\n            this.currentSpot = hotSpots[index];\r\n            return this.currentSpot;\r\n        },\r\n        displayCross(isEditing) {\r\n            let hotSpotDebugIcon = document.getElementsByClassName('pnlm-sprite pnlm-hot-spot-debug-indicator')[0];\r\n            hotSpotDebugIcon.style.display = isEditing? 'block': 'none'\r\n        },\r\n        addHotSpot(spotType, pitch, yaw, text, spotId = -1, transitionScene) {\r\n            let id = spotId != -1? spotId: this.hotSpots.length;\r\n\r\n            spotType == 'info' ? \r\n                this.addInfoSpot(pitch, yaw, text, id): \r\n                this.addTransitSpot(pitch, yaw, text, id, transitionScene);\r\n            this.applyTransitionClicks();\r\n        },\r\n        addInfoSpot(pitch, yaw, text, id) {\r\n            let controllerService = this;\r\n            this.viewer.addHotSpot({\r\n                'pitch': pitch,\r\n                'yaw': yaw,\r\n                'type': 'info',\r\n                'text': text,\r\n                'id': id,\r\n                'clickHandlerFunc': () => {\r\n                    controllerService.infoSpotClick(this)\r\n                }\r\n            }, this.currentScenePath);\r\n        },\r\n        infoSpotClick(spot) {\r\n            if (this.editingMode) {\r\n                this.getHotSpotInfo(spot.id);\r\n            }\r\n        },\r\n        addTransitSpot(pitch, yaw, text, id, transitionScene) {\r\n            this.viewer.addHotSpot({\r\n                'pitch': pitch,\r\n                'yaw': yaw,\r\n                'type': 'scene',\r\n                'text': text,\r\n                'id': id,\r\n                'sceneId': transitionScene\r\n            });\r\n        },\r\n        transitSpotClick(spot) {\r\n            if (this.editingMode) {\r\n                this.getHotSpotInfo(spot.id);\r\n            }\r\n            else {\r\n                this.currentScenePath = spot.sceneId;\r\n                let homeButton = document.getElementById('homeButton');\r\n                homeButton.style.display = this.currentScenePath == this.homeScene ? 'none' : 'block';\r\n                this.loadScene(spot.sceneId);\r\n            }\r\n        },\r\n        applyTransitionClicks() {\r\n            this.viewer.getConfig().hotSpots.forEach(spot => {\r\n                if (spot.type == 'scene') {\r\n                    spot.div.onclick = () => {\r\n                        this.transitSpotClick(spot);\r\n                    }\r\n                }\r\n            });\r\n        },\r\n        moveHotSpot(pitch, yaw, text) {\r\n            let spot = this.currentSpot;\r\n            this.removeHotSpot();\r\n            this.addHotSpot(spot.type, pitch, yaw, text, spot.id, spot.sceneID);\r\n            this.currentSpot = undefined;\r\n            this.applyTransitionClicks();\r\n        },\r\n        removeHotSpot() {\r\n            let spots = this.hotSpots;\r\n            const index = spots.indexOf(this.currentSpot);\r\n            if (index > -1) {\r\n                this.viewer.removeHotSpot(this.currentSpot.id);\r\n            }\r\n            this.applyTransitionClicks();\r\n        },\r\n        saveSpotsFromScene(scene = this.currentScenePath) {\r\n            let data = JSON.stringify(this.scenes[scene]['hotSpots']);\r\n            localStorage.setItem(scene, data);\r\n        },\r\n        loadSpotsToScene(scene = this.currentScenePath) {\r\n            let data = localStorage.getItem(scene);\r\n            if (data != undefined){\r\n                let spots = JSON.parse(data);\r\n                spots.forEach(spot => {\r\n                    if (this.viewer.getConfig().hotSpots[spot.id] == undefined)\r\n                    this.addHotSpot(spot.type, spot.pitch, spot.yaw, spot.text, spot.id, spot.sceneId);\r\n                });\r\n            }\r\n        },\r\n        setViewer(viewer) {\r\n            this.viewer = viewer;\r\n            this.viewer.on('load', () => {\r\n                this.methods.onLoadEvent()\r\n            });\r\n        },\r\n        getViewer() {\r\n            return this.viewer;\r\n        },\r\n        getViewerContainer() {\r\n            console.log(this.viewerContainer)\r\n            console.log(this);\r\n            return this.viewerContainer;\r\n        }\r\n    }\r\n}\r\n</script>"]}]}